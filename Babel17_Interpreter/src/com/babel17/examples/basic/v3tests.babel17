val u =
  object
    def color1 = calc
    def color2 = this.calc
    def calc = Green
  end

#assert u.color1 == u.color2 == Green

u.calc = Red

#assert u.color1 == u.color2 == Red